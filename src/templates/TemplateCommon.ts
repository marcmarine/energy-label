import type { FlagOriginData } from '.'

export class TemplateCommon {
  static EFFICIENCY_SCALE_COLORS: Record<string, string> = {
    A: '#00A651',
    B: '#50B848',
    C: '#BFD730',
    D: '#FFF200',
    E: '#FDB913',
    F: '#F37021',
    G: '#ED1C24'
  }

  static EPREL_BASE_URL = 'https://eprel.ec.europa.eu'

  static flagUK(x: number, y: number, width: number) {
    const scale = Number(width / 100).toPrecision(3)

    return `<g transform="translate(${x}, ${y}) scale(${scale})"><g clip-path="url(#a)"><path fill="#034EA2" d="M-.03.06v66.93h100.16V.06H-.03Z"/><path fill="#fff" fill-rule="evenodd" d="M38.37 33.52-3.12 5.8 3.07-5.68l46.98 31.4 46.98-31.4 6.19 11.48-41.49 27.72 41.49 27.73-6.19 11.48-46.98-31.4-46.98 31.4-6.19-11.48 41.5-27.73Z" clip-rule="evenodd"/><mask id="b" width="100" height="67" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M50.05 33.52h50.08V67L50.05 33.52Zm0 0V67H-.03l50.08-33.47Zm0 0H-.03V.06l50.08 33.46Zm0 0V.06h50.08L50.05 33.52Z"/></mask><g mask="url(#b)"><path fill="#DA2E33" fill-rule="evenodd" d="M42.26 33.52-2.09 3.88l4.13-7.65 48.01 32.09L98.07-3.77l4.12 7.65-44.35 29.64 44.35 29.64-4.12 7.66-48.02-32.1-48.01 32.1-4.13-7.66 44.35-29.64Z" clip-rule="evenodd"/></g><path fill="#DA2E33" d="M-2.03 24.6h44.07V-2.17h16.02V24.6h44.07v17.85H58.06v26.77H42.04V42.45H-2.03V24.6Z"/><path fill="#fff" fill-rule="evenodd" d="M40.04-4.4h20.03v26.77h44.06v22.3H60.07v26.78H40.04V44.68H-4.03V22.37h44.07V-4.4Zm4 4.46v26.77H-.03v13.39h44.07v26.77h12.02V40.22h44.07V26.83H56.06V.06H44.04Z" clip-rule="evenodd"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h100v67H0z"/></clipPath></defs></g>`
  }

  static flagEU(x: number, y: number, width: number) {
    const scale = Number(width / 100).toFixed(2)

    return `<g transform="translate(${x}, ${y}) scale(${scale})"><path fill="#034EA2" d="M0 67h100V0H0v67Z"/><path fill="#FFF200" d="m48.88 10.94 1.03-3.36 1.02 3.36h3.48l-2.8 2.2 1.08 3.44-2.78-2.12-2.77 2.12 1.1-3.45-2.82-2.19h3.46ZM49.1 55.43l1.11-3.37 1.09 3.37h3.67l-2.96 2.19 1.15 3.44-2.95-2.11-2.96 2.11 1.17-3.44-3-2.19h3.67ZM60.11 52.62l1.06-3.38 1.02 3.38h3.45l-2.79 2.16 1.1 3.47-2.78-2.14-2.8 2.14 1.11-3.47-2.82-2.16h3.45ZM60.11 13.77l1.06-3.38 1.02 3.38h3.45l-2.79 2.17 1.1 3.46-2.78-2.13-2.8 2.13 1.11-3.46-2.82-2.17h3.45ZM68.54 22l1.04-3.16L70.6 22h3.47l-2.79 2.04 1.07 3.24-2.77-1.98-2.78 1.98 1.1-3.25L65.09 22h3.46ZM68.54 44.52l1.04-3.16 1.02 3.16h3.47l-2.79 2.04 1.07 3.24-2.77-2-2.78 2 1.1-3.24-2.82-2.04h3.46ZM71.33 33.25l1.06-3.15 1.02 3.15h3.47L74.1 35.3l1.07 3.24-2.77-2-2.78 2 1.09-3.24-2.8-2.05h3.43ZM37.64 13.75l1.06-3.36 1.01 3.36h3.46l-2.79 2.19 1.09 3.46-2.77-2.13-2.8 2.13 1.1-3.46-2.82-2.19h3.46ZM29.78 22.2l1.05-3.36 1.02 3.37h3.46l-2.8 2.18 1.1 3.45-2.78-2.12-2.79 2.13 1.1-3.46-2.82-2.18h3.46ZM26.97 33.26l1.05-3.16 1.02 3.16h3.46l-2.8 2.04 1.1 3.24-2.78-2-2.79 2 1.1-3.24-2.82-2.04h3.46ZM29.78 44.52l1.05-3.16 1.02 3.16h3.46l-2.8 2.04 1.1 3.24-2.78-2-2.79 2 1.1-3.24-2.82-2.04h3.46ZM37.86 52.6l1.1-3.36 1.1 3.37h3.67l-2.96 2.18 1.14 3.46-2.95-2.13-2.95 2.13 1.17-3.46-3-2.18h3.68Z"/></g>`
  }

  static flag(x: number, y: number, width: number, origin: FlagOriginData = 'EU'): string {
    return origin === 'EU' ? this.flagEU(x, y, width) : this.flagUK(x, y, width)
  }

  static logo(x: number, y: number, width: number) {
    const scale = Number(width / 41.43).toFixed(2)

    return `<g transform="translate(${x}, ${y}) scale(${scale})"><path fill="#034EA2" d="M0 40.48V0h27.62v8.08H8.42v7.73h18.4v7.9H8.42v8.86h19.2v7.9H0ZM58.39 27.26V0h8.28v40.48h-9.89l-16.6-26.91v26.9H31.9V0h9.88l16.6 27.26ZM71.43 40.48V0h27.14v8.08H79.71v7.73h18.1v7.9H79.7v8.86h18.86v7.9H71.43ZM102.86 40.48V0h19.17c1.93-.03 3.86.19 5.73.66a9.22 9.22 0 0 1 3.95 2.14 8.89 8.89 0 0 1 2.3 3.92c.54 1.93.79 3.94.75 5.94 0 1.23-.08 2.46-.25 3.68-.13 1.06-.35 2.11-.65 3.14a6.1 6.1 0 0 1-1.92 2.7c.8.87 1.4 1.9 1.76 3.03.39 1.25.58 2.55.57 3.86v11.4h-8.59V29.99a3.79 3.79 0 0 0-1.07-3.13 5.55 5.55 0 0 0-3.42-.84h-10.02v14.47h-8.31Zm8.38-22.33h9.4c.99.02 1.97-.06 2.94-.24.6-.1 1.16-.31 1.67-.61.6-.49.9-1.71.9-3.68.1-1.5-.08-2.99-.54-4.4-.36-.8-1.53-1.22-3.53-1.22h-10.84v10.15ZM153.39 18.36h19.6c.2 1.53.3 2.67.33 3.4.03.75 0 1.43 0 1.97v3.32c.05 2.83-.4 5.64-1.32 8.32a7.14 7.14 0 0 1-2.82 3.59 12.42 12.42 0 0 1-5.34 1.72 65.43 65.43 0 0 1-7.6.24c-6.44 0-10.86-1.02-13.27-3.07-2.62-2.13-3.92-6.33-3.92-12.6V15.4c0-5.22 1.06-9.08 3.2-11.58a10.22 10.22 0 0 1 4.6-2.85 22.18 22.18 0 0 1 6.91-.97h8.68c3.94.13 6.7 1.18 8.29 3.17 1.8 2.46 2.69 5.46 2.53 8.5v3.53h-8.44c.16-2.13-.06-4.27-.67-6.32-.2-.4-1.03-.64-2.53-.73a81.8 81.8 0 0 0-3.65-.14h-3.7c-3.1 0-4.93.32-5.5.97-.56.64-.88 2.87-.96 6.7v9.76a24 24 0 0 0 .53 5.49v-.12c.22.47.55.87.97 1.18.57.4 1.24.64 1.93.7.82.12 1.65.18 2.48.19H158.75c1.14 0 2.28-.04 3.41-.16a3 3 0 0 0 1.78-.63c.56-.48.85-2.1.85-4.81v-.97h-11.4v-7.95ZM193.68 0l-3.65 11.67 9.97-1.66-14.26 31.42 4.3-22.77-9.56.41L184.52 0h9.16Z"/></g>`
  }

  static qrCodeImage(x: number, y: number, width: number, qrCodeDataUrl?: string) {
    return `<image href="${qrCodeDataUrl}" x="${x}" y="${y}" width="${width}" />`
  }
}
